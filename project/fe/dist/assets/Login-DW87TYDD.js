import{r as d}from"./request-giXr0CrS.js";import{_ as m}from"./HeaderBar-BO26s92S.js";import{_ as p,c as u,b as c,a as t,r as f,w as n,v as i,o as g}from"./index-BOjwxA-V.js";import"./iconify-BGqMIu7N.js";const x={name:"Login",components:{HeaderBar:m},data(){return{form:{username:"",password:""},loading:!1}},methods:{goRegister(){this.$router.push("/register")},async handleLogin(){if(!this.form.username||!this.form.password){alert("è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ");return}this.loading=!0;try{const r=await d({url:"/auth/login",method:"POST",data:this.form});localStorage.setItem("token",r.data.token),localStorage.setItem("user",JSON.stringify(r.data.user)),this.$router.push("/")}catch(r){console.error(r),alert(r.msg||"ç™»å½•å¤±è´¥")}finally{this.loading=!1}}}},v={class:"min-h-screen bg-gradient-to-b from-secondary via-dark to-black grid place-items-center px-6"},y={class:"glass w-full max-w-md p-8 rounded-3xl mt-16"},_={class:"mb-4"},h={class:"input"},w={class:"mb-6"},b={class:"input"},k={class:"mt-6 flex items-center justify-center text-sm"};function B(r,e,L,S,o,a){const l=f("HeaderBar");return g(),u("div",v,[c(l,{title:"ç™»å½•"}),t("div",y,[e[7]||(e[7]=t("div",{class:"text-center mb-8"},[t("div",{class:"mx-auto h-16 w-16 rounded-2xl bg-gradient-to-tr from-primary to-pink-500 grid place-items-center animate-[pulse-glow_3s_ease_infinite]"},"ğŸ®"),t("div",{class:"mt-4 hero-title"},"æ¬¢è¿å›æ¥"),t("div",{class:"mt-1 text-gray-400 text-sm"},"ç™»å½•ä»¥å¼€å§‹æ‚¨çš„é™ªç©ä¹‹æ—…")],-1)),t("div",_,[t("div",h,[e[4]||(e[4]=t("span",{class:"mr-3 text-gray-400"},"ğŸ‘¤",-1)),n(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.form.username=s),type:"text",placeholder:"ç”¨æˆ·å",class:"input-field"},null,512),[[i,o.form.username]])])]),t("div",w,[t("div",b,[e[5]||(e[5]=t("span",{class:"mr-3 text-gray-400"},"ğŸ”’",-1)),n(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.form.password=s),type:"password",placeholder:"å¯†ç ",class:"input-field"},null,512),[[i,o.form.password]])])]),t("button",{class:"btn-primary w-full",onClick:e[2]||(e[2]=(...s)=>a.handleLogin&&a.handleLogin(...s))},"ç™» å½•"),t("div",k,[e[6]||(e[6]=t("span",{class:"text-gray-500"},"è¿˜æ²¡æœ‰è´¦å·ï¼Ÿ",-1)),t("span",{class:"text-primary ml-2 font-bold cursor-pointer",onClick:e[3]||(e[3]=(...s)=>a.goRegister&&a.goRegister(...s))},"ç«‹å³æ³¨å†Œ")])])])}const R=p(x,[["render",B]]);export{R as default};
